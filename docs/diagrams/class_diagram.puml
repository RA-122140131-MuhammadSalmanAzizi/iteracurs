@startuml Class Diagram

skinparam classAttributeIconSize 0

' Domain Entities with Behavior

class User {
  -email: String
  -password: String
  -name: String
  -role: UserRole
  -status: UserStatus
  -avatar: String
  --
  +login(password: String): boolean
  +updateProfile(data: Map): void
  +hasRole(role: UserRole): boolean
  +canAccessCourse(course: Course): boolean
}

class Customer extends User {
  -enrolledCourses: List<Course>
  -wishlist: List<Course>
  --
  +enroll(course: Course): void
  +completeCourse(course: Course): Certificate
  +writeReview(course: Course, rating: int, comment: String): void
}

class Instructor extends User {
  -uploadedCourses: List<Course>
  --
  +createCourse(data: CourseData): Course
  +updateContent(course: Course, content: Content): void
  +viewStudentProgress(course: Course): List<StudentProgress>
}

class Admin extends User {
  --
  +approveReview(review: Review): void
  +manageUser(user: User): void
  +updateSystemSettings(settings: SystemSettings): void
}

class Course {
  -title: String
  -description: String
  -price: Money
  -isFree: boolean
  -status: CourseStatus
  -category: Category
  -level: Level
  -chapters: List<Chapter>
  --
  +publish(): void
  +calculateDuration(): Duration
  +getAverageRating(): float
  +addReview(review: Review): void
  +generateCertificate(student: Customer): Certificate
}

class Chapter {
  -title: String
  -contents: List<Content>
  --
  +addContent(content: Content): void
  +reorderContent(): void
  +getProgress(): float
}

abstract class Content {
  -title: String
  -isRequired: boolean
  --
  +markComplete(user: User): void
  {abstract} +render(): Component
}

class VideoContent extends Content {
  -url: String
  -duration: Duration
  --
  +play(): void
}

class QuizContent extends Content {
  -questions: List<Question>
  -passingScore: int
  --
  +submitAttempts(answers: Map): QuizResult
}

class Review {
  -author: User
  -rating: int
  -comment: String
  -status: ReviewStatus
  --
  +approve(): void
  +reject(): void
}

class Certificate {
  -code: String
  -recipient: Customer
  -course: Course
  -issueDate: Date
  --
  +downloadPDF(): File
  +verify(): boolean
}

' Services / Contexts (Logic Containers)

class AuthContext {
  -currentUser: User
  --
  +login(credentials): User
  +logout(): void
}

class CourseService {
  --
  +search(query: String): List<Course>
  +getRecommendations(user: User): List<Course>
}

' Relationships

User <|-- Customer
User <|-- Instructor
User <|-- Admin

Course "1" *-- "*" Chapter
Chapter "1" *-- "*" Content
Content <|-- VideoContent
Content <|-- QuizContent

Customer "1" --> "*" Course : enrolls
Customer "1" --> "*" Certificate : earns
Course "1" --> "*" Review : has
Review "*" --> "1" User : authored by

Instructor "1" --> "*" Course : teaches

@enduml
